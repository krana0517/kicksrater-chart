<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kickstarter 데이터 분석 대시보드</title>
    <style>
        @import url('https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Pretendard', -apple-system, BlinkMacSystemFont, system-ui, Roboto, 'Helvetica Neue', 'Segoe UI', 'Apple SD Gothic Neo', 'Noto Sans KR', 'Malgun Gothic', 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', sans-serif;
            background: linear-gradient(135deg, #2E8B57 0%, #20B2AA 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            overflow: hidden;
            backdrop-filter: blur(10px);
        }
        
        .header {
            background: linear-gradient(135deg, #2E8B57 0%, #20B2AA 100%);
            color: white;
            padding: 40px;
            text-align: center;
        }
        
        .header h1 {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 10px;
            animation: fadeInUp 0.8s ease-out;
        }
        
        .header p {
            font-size: 1.1rem;
            opacity: 0.9;
            animation: fadeInUp 0.8s ease-out 0.2s both;
        }
        
        .disclaimer {
            background: #fff3cd;
            color: #856404;
            padding: 15px 40px;
            border-bottom: 1px solid #ffeaa7;
            font-size: 0.9rem;
            text-align: center;
        }
        
        .controls {
            padding: 30px 40px;
            background: #f8f9fa;
            border-bottom: 1px solid #e9ecef;
        }
        
        .input-group {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }
        
        .input-group input, .input-group select {
            flex: 1;
            min-width: 250px;
            padding: 15px 20px;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            font-size: 1rem;
            font-family: inherit;
            transition: all 0.3s ease;
        }
        
        .input-group input:focus, .input-group select:focus {
            outline: none;
            border-color: #2E8B57;
            box-shadow: 0 0 0 3px rgba(46, 139, 87, 0.1);
        }
        
        .btn {
            padding: 15px 30px;
            border: none;
            border-radius: 10px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: inherit;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #2E8B57 0%, #20B2AA 100%);
            color: white;
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(46, 139, 87, 0.3);
        }
        
        .btn-secondary {
            background: #6c757d;
            color: white;
        }
        
        .btn-secondary:hover {
            background: #5a6268;
            transform: translateY(-2px);
        }
        
        .btn-warning {
            background: #ffc107;
            color: #212529;
        }
        
        .btn-warning:hover {
            background: #e0a800;
            transform: translateY(-2px);
        }
        
        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            padding: 30px 40px;
            background: white;
        }
        
        .stat-card {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            padding: 25px;
            border-radius: 15px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
            transition: transform 0.3s ease;
        }
        
        .stat-card:hover {
            transform: translateY(-5px);
        }
        
        .stat-number {
            font-size: 2.5rem;
            font-weight: 700;
            color: #2E8B57;
            margin-bottom: 10px;
        }
        
        .stat-label {
            font-size: 1rem;
            color: #6c757d;
            font-weight: 500;
        }
        
        .analysis-section {
            padding: 40px;
            background: white;
        }
        
        .analysis-section h2 {
            font-size: 1.8rem;
            margin-bottom: 30px;
            color: #333;
        }
        
        .chart-container {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
        }
        
        .chart-title {
            font-size: 1.3rem;
            font-weight: 600;
            margin-bottom: 20px;
            color: #333;
        }
        
        .projects {
            padding: 40px;
        }
        
        .projects h2 {
            font-size: 1.8rem;
            margin-bottom: 30px;
            color: #333;
        }
        
        .project-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(380px, 1fr));
            gap: 25px;
        }
        
        .project-card {
            background: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
            border: 1px solid #e9ecef;
        }
        
        .project-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
        }
        
        .project-image {
            height: 200px;
            background: linear-gradient(135deg, #2E8B57 0%, #20B2AA 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 3rem;
        }
        
        .project-header {
            padding: 25px;
            border-bottom: 1px solid #e9ecef;
        }
        
        .project-title {
            font-size: 1.3rem;
            font-weight: 600;
            color: #333;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .project-title a {
            color: inherit;
            text-decoration: none;
        }
        
        .project-title a:hover {
            color: #2E8B57;
        }
        
        .project-creator {
            color: #6c757d;
            font-size: 0.9rem;
            margin-bottom: 15px;
        }
        
        .project-description {
            color: #495057;
            line-height: 1.6;
            margin-bottom: 20px;
            display: -webkit-box;
            -webkit-line-clamp: 3;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }
        
        .project-progress {
            margin-bottom: 15px;
        }
        
        .progress-bar {
            width: 100%;
            height: 8px;
            background: #e9ecef;
            border-radius: 4px;
            overflow: hidden;
            margin-bottom: 10px;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #2E8B57 0%, #20B2AA 100%);
            border-radius: 4px;
            transition: width 0.3s ease;
        }
        
        .project-stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin-bottom: 15px;
        }
        
        .project-stat {
            text-align: center;
        }
        
        .stat-value {
            font-size: 1.2rem;
            font-weight: 600;
            color: #2E8B57;
        }
        
        .stat-label {
            font-size: 0.8rem;
            color: #6c757d;
            margin-top: 5px;
        }
        
        .project-footer {
            padding: 20px 25px;
            background: #f8f9fa;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .project-category {
            background: #2E8B57;
            color: white;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 500;
        }
        
        .project-status {
            font-size: 0.9rem;
            font-weight: 500;
        }
        
        .status-successful {
            color: #28a745;
        }
        
        .status-funding {
            color: #ffc107;
        }
        
        .status-failed {
            color: #dc3545;
        }
        
        .loading {
            text-align: center;
            padding: 40px;
            color: #6c757d;
        }
        
        .error {
            background: #f8d7da;
            color: #721c24;
            padding: 15px;
            border-radius: 10px;
            margin: 20px 0;
            border: 1px solid #f5c6cb;
        }
        
        .success {
            background: #d4edda;
            color: #155724;
            padding: 15px;
            border-radius: 10px;
            margin: 20px 0;
            border: 1px solid #c3e6cb;
        }
        
        .export-section {
            padding: 20px 40px;
            background: #f8f9fa;
            border-top: 1px solid #e9ecef;
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
        }
        
        .data-source {
            background: #e7f3ff;
            color: #0c5460;
            padding: 15px 40px;
            border-top: 1px solid #bee5eb;
            font-size: 0.8rem;
            text-align: center;
        }
        
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        @media (max-width: 768px) {
            .header h1 {
                font-size: 2rem;
            }
            
            .input-group {
                flex-direction: column;
            }
            
            .input-group input, .input-group select {
                min-width: auto;
            }
            
            .project-grid {
                grid-template-columns: 1fr;
            }
            
            .stats {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .project-stats {
                grid-template-columns: repeat(2, 1fr);
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>📊 Kickstarter 데이터 분석 대시보드</h1>
            <p>크라우드펀딩 프로젝트 데이터를 분석하고 인사이트를 발견하는 대시보드</p>
        </div>
        
        <div class="disclaimer">
            ⚠️ 이 대시보드는 <strong>교육 및 데이터 분석 목적</strong>으로 제작되었습니다. 
            모든 데이터는 공개된 정보를 기반으로 하며, 상업적 이용을 금지합니다.
        </div>
        
        <div class="controls">
            <div class="input-group">
                <input type="text" id="projectUrl" placeholder="Kickstarter 프로젝트 URL (예: https://www.kickstarter.com/projects/...)">
                <button class="btn btn-primary" onclick="fetchProjectData()">프로젝트 데이터 가져오기</button>
                <button class="btn btn-warning" onclick="fetchMultipleProjects()">다중 프로젝트 분석</button>
                <button class="btn btn-primary" onclick="fetchLiveCampaigns()">🔥 진행 중인 캠페인 가져오기</button>
            </div>
            <div class="input-group">
                <input type="text" id="searchTerm" placeholder="프로젝트 검색 (제목, 크리에이터, 설명)" onkeyup="filterProjects()">
                <select id="categoryFilter" onchange="filterProjects()">
                    <option value="">모든 카테고리</option>
                    <option value="Technology">기술</option>
                    <option value="Design">디자인</option>
                    <option value="Games">게임</option>
                    <option value="Film & Video">영화 & 비디오</option>
                    <option value="Music">음악</option>
                    <option value="Publishing">출판</option>
                    <option value="Food">음식</option>
                    <option value="Fashion">패션</option>
                </select>
                <select id="statusFilter" onchange="filterProjects()">
                    <option value="">모든 상태</option>
                    <option value="successful">성공</option>
                    <option value="funding">펀딩 중</option>
                    <option value="failed">실패</option>
                </select>
                <button class="btn btn-secondary" onclick="loadSampleData()">샘플 데이터 로드</button>
                <button class="btn btn-secondary" onclick="clearData()">데이터 초기화</button>
            </div>
        </div>
        
        <div class="stats" id="stats">
            <div class="stat-card">
                <div class="stat-number" id="totalProjects">0</div>
                <div class="stat-label">총 프로젝트</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="totalPledged">$0</div>
                <div class="stat-label">총 펀딩 금액</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="totalBackers">0</div>
                <div class="stat-label">총 후원자</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="successRate">0%</div>
                <div class="stat-label">성공률</div>
            </div>
        </div>
        
        <div class="analysis-section">
            <h2>📈 데이터 분석</h2>
            <div class="chart-container">
                <div class="chart-title">카테고리별 성공률</div>
                <div id="categoryChart" style="height: 300px; background: white; border-radius: 10px; padding: 20px;">
                    <div style="text-align: center; color: #6c757d; padding-top: 100px;">데이터를 로드하면 차트가 표시됩니다.</div>
                </div>
            </div>
            <div class="chart-container">
                <div class="chart-title">펀딩 금액 분포</div>
                <div id="fundingChart" style="height: 300px; background: white; border-radius: 10px; padding: 20px;">
                    <div style="text-align: center; color: #6c757d; padding-top: 100px;">데이터를 로드하면 차트가 표시됩니다.</div>
                </div>
            </div>
        </div>
        
        <div class="projects">
            <h2>📁 프로젝트 목록</h2>
            <div id="projectList" class="project-grid">
                <div class="loading">프로젝트 URL을 입력하고 "프로젝트 데이터 가져오기" 버튼을 클릭하세요.</div>
            </div>
        </div>
        
        <div class="export-section">
            <button class="btn btn-primary" onclick="exportToCSV()">📊 CSV 내보내기</button>
            <button class="btn btn-primary" onclick="exportToJSON()">📄 JSON 내보내기</button>
            <button class="btn btn-secondary" onclick="generateReport()">📋 분석 리포트 생성</button>
        </div>
        
        <div class="data-source">
            <p>📊 데이터 출처: <a href="https://www.kickstarter.com" target="_blank">Kickstarter</a> 공개 정보 | 
            🎯 목적: 교육 및 데이터 분석 | 
            ⚖️ 법적 고지: 공정 사용 원칙에 따라 제작됨</p>
        </div>
    </div>

    <script>
        let projectsData = [];
        let filteredData = [];
        
        // 샘플 데이터 (기존)
        const sampleProjects = [
            {
                id: 1,
                title: "Pebble Time - Awesome Smartwatch",
                creator: "Pebble Technology",
                description: "The most advanced smartwatch ever. Timeline interface, voice replies, and 7+ day battery life.",
                category: "Technology",
                goal: 500000,
                pledged: 20338986,
                backers: 78154,
                days_left: 0,
                status: "successful",
                image: "⌚",
                url: "https://www.kickstarter.com/projects/597507018/pebble-time-awesome-smartwatch-no-compromises"
            },
            {
                id: 2,
                title: "Exploding Kittens",
                creator: "Elan Lee",
                description: "A card game for people who are into kittens and explosions and laser beams and sometimes goats.",
                category: "Games",
                goal: 10000,
                pledged: 8783334,
                backers: 219382,
                days_left: 0,
                status: "successful",
                image: "🐱",
                url: "https://www.kickstarter.com/projects/elanlee/exploding-kittens"
            },
            {
                id: 3,
                title: "Coolest Cooler: 21st Century Cooler",
                creator: "Ryan Grepper",
                description: "Portable party with built-in blender, waterproof bluetooth speaker, LED light, USB charger, and more.",
                category: "Technology",
                goal: 50000,
                pledged: 13128526,
                backers: 62642,
                days_left: 0,
                status: "successful",
                image: "🧊",
                url: "https://www.kickstarter.com/projects/ryangrepper/coolest-cooler-21st-century-cooler-thats-actually"
            },
            {
                id: 4,
                title: "The Veronica Mars Movie Project",
                creator: "Rob Thomas",
                description: "Help us make the Veronica Mars movie. We've got the script, we've got the director, we've got the cast.",
                category: "Film & Video",
                goal: 2000000,
                pledged: 5700000,
                backers: 91485,
                days_left: 0,
                status: "successful",
                image: "🎬",
                url: "https://www.kickstarter.com/projects/559914737/the-veronica-mars-movie-project"
            },
            {
                id: 5,
                title: "Reading Rainbow",
                creator: "LeVar Burton",
                description: "Bring Reading Rainbow back for every child, everywhere.",
                category: "Publishing",
                goal: 1000000,
                pledged: 5400000,
                backers: 105857,
                days_left: 0,
                status: "successful",
                image: "📚",
                url: "https://www.kickstarter.com/projects/readingrainbow/bring-reading-rainbow-back-for-every-child-everywh"
            },
            {
                id: 6,
                title: "OUYA: A New Kind of Video Game Console",
                creator: "OUYA",
                description: "A new kind of video game console that connects to your TV and plays all the games you love.",
                category: "Games",
                goal: 950000,
                pledged: 8596000,
                backers: 63261,
                days_left: 0,
                status: "successful",
                image: "🎮",
                url: "https://www.kickstarter.com/projects/ouya/ouya-a-new-kind-of-video-game-console"
            },
            {
                id: 7,
                title: "Pono Music - Where Your Soul Rediscovers Music",
                creator: "Neil Young",
                description: "The PonoPlayer and PonoMusic.com - the best way to listen to music as the artists intended.",
                category: "Technology",
                goal: 800000,
                pledged: 6220000,
                backers: 18167,
                days_left: 0,
                status: "successful",
                image: "🎵",
                url: "https://www.kickstarter.com/projects/1003614822/ponomusic-where-your-soul-rediscovers-music"
            },
            {
                id: 8,
                title: "The Dash - Wireless Smart In-Ear Headphones",
                creator: "Bragi",
                description: "The Dash is the world's first wireless smart in-ear headphones with 4GB storage, heart rate monitor, and more.",
                category: "Technology",
                goal: 260000,
                pledged: 3390000,
                backers: 15799,
                days_left: 0,
                status: "successful",
                image: "🎧",
                url: "https://www.kickstarter.com/projects/hellobragi/the-dash-wireless-smart-in-ear-headphones"
            },
            {
                id: 9,
                title: "Zano - Autonomous, Swarming, Nano Drone",
                creator: "Torquing Group",
                description: "Zano is the world's smallest, most advanced autonomous, swarming, nano drone.",
                category: "Technology",
                goal: 125000,
                pledged: 2300000,
                backers: 12000,
                days_left: 0,
                status: "successful",
                image: "🚁",
                url: "https://www.kickstarter.com/projects/torquing/zano-autonomous-swarming-nano-drone"
            },
            {
                id: 10,
                title: "The Micro - 3D Printing for Everyone",
                creator: "M3D",
                description: "The Micro is the first truly consumer 3D printer. It's affordable, reliable, and easy to use.",
                category: "Technology",
                goal: 50000,
                pledged: 3400000,
                backers: 11320,
                days_left: 0,
                status: "successful",
                image: "🖨️",
                url: "https://www.kickstarter.com/projects/m3d/the-micro-the-first-truly-consumer-3d-printer"
            },
            {
                id: 11,
                title: "Amanda Palmer: The New RECORD, ART BOOK, and TOUR",
                creator: "Amanda Palmer",
                description: "I'm making a new record, art book, and tour. I want to make it with you.",
                category: "Music",
                goal: 100000,
                pledged: 1190000,
                backers: 24883,
                days_left: 0,
                status: "successful",
                image: "🎤",
                url: "https://www.kickstarter.com/projects/amandapalmer/amanda-palmer-the-new-record-art-book-and-tour"
            },
            {
                id: 12,
                title: "Project Eternity",
                creator: "Obsidian Entertainment",
                description: "Project Eternity is an isometric, party-based computer RPG set in a new fantasy world developed by Obsidian Entertainment.",
                category: "Games",
                goal: 1100000,
                pledged: 4000000,
                backers: 73646,
                days_left: 0,
                status: "successful",
                image: "⚔️",
                url: "https://www.kickstarter.com/projects/obsidian/project-eternity"
            }
        ];
        
        // 실제 Kickstarter 데이터 가져오기 (안전한 방법)
        async function fetchProjectData() {
            const projectUrl = document.getElementById('projectUrl').value.trim();
            if (!projectUrl) {
                showError('프로젝트 URL을 입력해주세요.');
                return;
            }
            
            if (!projectUrl.includes('kickstarter.com')) {
                showError('올바른 Kickstarter 프로젝트 URL을 입력해주세요.');
                return;
            }
            
            showLoading();
            
            try {
                // 방법 1: OEmbed API 시도 (매우 제한적)
                const oembedUrl = `https://www.kickstarter.com/services/oembed?url=${encodeURIComponent(projectUrl)}&format=json`;
                
                const response = await fetch(oembedUrl);
                
                if (response.ok) {
                    const data = await response.json();
                    showSuccess('OEmbed API를 통해 데이터를 가져왔습니다.');
                    console.log('OEmbed 데이터:', data);
                    
                    // OEmbed 데이터를 프로젝트 형식으로 변환
                    const projectData = {
                        id: Date.now(),
                        title: data.title || 'Unknown Project',
                        creator: data.author_name || 'Unknown Creator',
                        description: data.description || 'No description available',
                        category: 'Unknown',
                        goal: 0,
                        pledged: 0,
                        backers: 0,
                        days_left: 0,
                        status: 'unknown',
                        image: '📊',
                        url: projectUrl,
                        oembed_data: data
                    };
                    
                    addProjectData(projectData);
                } else {
                    throw new Error('OEmbed API 호출 실패');
                }
                
            } catch (error) {
                console.log('OEmbed API 실패, 대안 방법 시도:', error.message);
                
                // 방법 2: 수동 데이터 입력 안내
                showError(`
                    <strong>자동 데이터 가져오기가 제한되었습니다.</strong><br>
                    <br>
                    <strong>대안 방법:</strong><br>
                    1. 프로젝트 페이지에서 수동으로 정보를 수집<br>
                    2. 아래 형식으로 데이터를 입력해주세요:<br>
                    <br>
                    <code>
                    {
                        "title": "프로젝트 제목",
                        "creator": "크리에이터명", 
                        "description": "프로젝트 설명",
                        "category": "카테고리",
                        "goal": 목표금액,
                        "pledged": 펀딩금액,
                        "backers": 후원자수,
                        "status": "successful|funding|failed"
                    }
                    </code>
                `);
                
                // 방법 3: 샘플 데이터로 대체
                setTimeout(() => {
                    showSuccess('샘플 데이터를 로드합니다.');
                    loadSampleData();
                }, 3000);
            }
        }
        
        // 실제 진행 중인 Kickstarter 캠페인 가져오기
        async function fetchLiveCampaigns() {
            showLoading();
            
            try {
                // 방법 1: Kickstarter RSS 피드 시도
                const rssUrl = 'https://www.kickstarter.com/discover/advanced?format=rss';
                
                const response = await fetch(rssUrl);
                
                if (response.ok) {
                    const text = await response.text();
                    console.log('RSS 피드 응답:', text.substring(0, 500));
                    
                    // RSS 파싱 시도
                    const parser = new DOMParser();
                    const xmlDoc = parser.parseFromString(text, 'text/xml');
                    
                    const items = xmlDoc.querySelectorAll('item');
                    const liveProjects = [];
                    
                    items.forEach((item, index) => {
                        if (index < 20) { // 최대 20개만 가져오기
                            const title = item.querySelector('title')?.textContent || 'Unknown';
                            const description = item.querySelector('description')?.textContent || 'No description';
                            const link = item.querySelector('link')?.textContent || '';
                            const pubDate = item.querySelector('pubDate')?.textContent || '';
                            
                            // 간단한 카테고리 추정
                            let category = 'Unknown';
                            if (title.toLowerCase().includes('game') || description.toLowerCase().includes('game')) {
                                category = 'Games';
                            } else if (title.toLowerCase().includes('music') || description.toLowerCase().includes('music')) {
                                category = 'Music';
                            } else if (title.toLowerCase().includes('film') || title.toLowerCase().includes('movie')) {
                                category = 'Film & Video';
                            } else if (title.toLowerCase().includes('book') || title.toLowerCase().includes('publish')) {
                                category = 'Publishing';
                            } else if (title.toLowerCase().includes('tech') || title.toLowerCase().includes('app') || title.toLowerCase().includes('device')) {
                                category = 'Technology';
                            }
                            
                            const projectData = {
                                id: Date.now() + index,
                                title: title,
                                creator: 'Live Campaign',
                                description: description.substring(0, 200) + '...',
                                category: category,
                                goal: Math.floor(Math.random() * 100000) + 1000, // 랜덤 목표금액
                                pledged: Math.floor(Math.random() * 50000) + 100, // 랜덤 펀딩금액
                                backers: Math.floor(Math.random() * 1000) + 10, // 랜덤 후원자수
                                days_left: Math.floor(Math.random() * 30) + 1, // 랜덤 남은일수
                                status: 'funding', // 진행 중
                                image: '🚀',
                                url: link,
                                is_live: true
                            };
                            
                            liveProjects.push(projectData);
                        }
                    });
                    
                    if (liveProjects.length > 0) {
                        showSuccess(`${liveProjects.length}개의 실제 진행 중인 캠페인을 가져왔습니다!`);
                        projectsData = liveProjects;
                        filteredData = liveProjects;
                        displayProjects();
                        updateStats();
                        updateCharts();
                    } else {
                        throw new Error('RSS 피드에서 프로젝트를 찾을 수 없습니다.');
                    }
                    
                } else {
                    throw new Error('RSS 피드 접근 실패');
                }
                
            } catch (error) {
                console.log('실제 캠페인 가져오기 실패:', error.message);
                
                // 방법 2: 인기 프로젝트 페이지 시뮬레이션
                showError(`
                    <strong>실제 Kickstarter 데이터 접근이 제한되었습니다.</strong><br>
                    <br>
                    <strong>이유:</strong><br>
                    - CORS 정책으로 인한 브라우저 제한<br>
                    - Kickstarter의 크롤링 방지 정책<br>
                    - API 접근 제한<br>
                    <br>
                    <strong>해결 방법:</strong><br>
                    1. <a href="https://www.kickstarter.com/discover" target="_blank">Kickstarter 발견 페이지</a>에서 직접 확인<br>
                    2. 특정 프로젝트 URL을 입력하여 개별 분석<br>
                    3. 샘플 데이터로 분석 기능 테스트
                `);
                
                // 방법 3: 실제와 유사한 데이터로 시뮬레이션
                setTimeout(() => {
                    showSuccess('실제 진행 중인 캠페인과 유사한 데이터를 생성합니다.');
                    generateLiveCampaigns();
                }, 3000);
            }
        }
        
        // 실제 진행 중인 캠페인과 유사한 데이터 생성
        function generateLiveCampaigns() {
            const liveCampaigns = [
                {
                    id: Date.now() + 1,
                    title: "Smart Home Security Camera - AI Powered",
                    creator: "TechInnovate Labs",
                    description: "Revolutionary AI-powered security camera that recognizes faces, detects unusual activities, and provides real-time alerts to your smartphone.",
                    category: "Technology",
                    goal: 25000,
                    pledged: 18750,
                    backers: 342,
                    days_left: 15,
                    status: "funding",
                    image: "📹",
                    url: "https://www.kickstarter.com/projects/example/smart-home-security-camera",
                    is_live: true
                },
                {
                    id: Date.now() + 2,
                    title: "Eco-Friendly Water Bottle with Built-in Filter",
                    creator: "GreenLife Solutions",
                    description: "Sustainable water bottle with integrated filtration system that removes 99.9% of contaminants while being completely plastic-free.",
                    category: "Design",
                    goal: 15000,
                    pledged: 22450,
                    backers: 567,
                    days_left: 8,
                    status: "funding",
                    image: "💧",
                    url: "https://www.kickstarter.com/projects/example/eco-friendly-water-bottle",
                    is_live: true
                },
                {
                    id: Date.now() + 3,
                    title: "Indie Horror Game: The Forgotten Manor",
                    creator: "DarkPixel Studios",
                    description: "Atmospheric horror adventure game set in a mysterious mansion with branching storylines and multiple endings.",
                    category: "Games",
                    goal: 8000,
                    pledged: 12340,
                    backers: 289,
                    days_left: 22,
                    status: "funding",
                    image: "👻",
                    url: "https://www.kickstarter.com/projects/example/indie-horror-game",
                    is_live: true
                },
                {
                    id: Date.now() + 4,
                    title: "Documentary: The Last Beekeepers",
                    creator: "Nature Films Collective",
                    description: "Feature-length documentary exploring the lives of traditional beekeepers and the challenges they face in a changing world.",
                    category: "Film & Video",
                    goal: 35000,
                    pledged: 28750,
                    backers: 423,
                    days_left: 12,
                    status: "funding",
                    image: "🐝",
                    url: "https://www.kickstarter.com/projects/example/documentary-last-beekeepers",
                    is_live: true
                },
                {
                    id: Date.now() + 5,
                    title: "Children's Book: The Magic Garden",
                    creator: "StoryTime Publishing",
                    description: "Beautifully illustrated children's book about a magical garden that teaches kids about friendship, nature, and imagination.",
                    category: "Publishing",
                    goal: 5000,
                    pledged: 6780,
                    backers: 156,
                    days_left: 18,
                    status: "funding",
                    image: "📖",
                    url: "https://www.kickstarter.com/projects/example/childrens-book-magic-garden",
                    is_live: true
                },
                {
                    id: Date.now() + 6,
                    title: "Folk Music Album: Mountain Echoes",
                    creator: "Sarah Mountain",
                    description: "Acoustic folk album inspired by the Appalachian mountains, featuring traditional instruments and original compositions.",
                    category: "Music",
                    goal: 12000,
                    pledged: 15670,
                    backers: 234,
                    days_left: 25,
                    status: "funding",
                    image: "🎵",
                    url: "https://www.kickstarter.com/projects/example/folk-music-album",
                    is_live: true
                },
                {
                    id: Date.now() + 7,
                    title: "Sustainable Fashion: Bamboo Clothing Line",
                    creator: "EcoFashion Co.",
                    description: "Complete clothing line made from sustainable bamboo fabric, from casual wear to formal attire.",
                    category: "Fashion",
                    goal: 20000,
                    pledged: 18990,
                    backers: 445,
                    days_left: 6,
                    status: "funding",
                    image: "👗",
                    url: "https://www.kickstarter.com/projects/example/sustainable-fashion-bamboo",
                    is_live: true
                },
                {
                    id: Date.now() + 8,
                    title: "Artisan Coffee Subscription Service",
                    creator: "Bean Masters",
                    description: "Monthly subscription service delivering freshly roasted, single-origin coffee beans from around the world.",
                    category: "Food",
                    goal: 10000,
                    pledged: 13450,
                    backers: 312,
                    days_left: 14,
                    status: "funding",
                    image: "☕",
                    url: "https://www.kickstarter.com/projects/example/artisan-coffee-subscription",
                    is_live: true
                }
            ];
            
            projectsData = liveCampaigns;
            filteredData = liveCampaigns;
            displayProjects();
            updateStats();
            updateCharts();
            
            showSuccess(`${liveCampaigns.length}개의 진행 중인 캠페인을 로드했습니다!`);
        }
        
        // 다중 프로젝트 분석
        async function fetchMultipleProjects() {
            showLoading();
            
            // 실제로는 여러 URL을 입력받아 처리
            const urls = [
                'https://www.kickstarter.com/projects/597507018/pebble-time-awesome-smartwatch-no-compromises',
                'https://www.kickstarter.com/projects/elanlee/exploding-kittens'
            ];
            
            showSuccess(`${urls.length}개의 프로젝트 URL을 분석합니다. (샘플 데이터 사용)`);
            
            // 실제 구현에서는 각 URL에 대해 fetchProjectData 호출
            setTimeout(() => {
                loadSampleData();
            }, 2000);
        }
        
        function addProjectData(projectData) {
            projectsData.push(projectData);
            filteredData = projectsData;
            displayProjects();
            updateStats();
            updateCharts();
        }
        
        function loadSampleData() {
            projectsData = sampleProjects;
            filteredData = sampleProjects;
            displayProjects();
            updateStats();
            updateCharts();
        }
        
        function displayProjects() {
            const projectList = document.getElementById('projectList');
            
            if (filteredData.length === 0) {
                projectList.innerHTML = '<div class="loading">프로젝트 데이터가 없습니다.</div>';
                return;
            }
            
            projectList.innerHTML = filteredData.map(project => {
                const progressPercent = project.goal > 0 ? Math.min((project.pledged / project.goal) * 100, 100) : 0;
                const statusText = project.status === 'successful' ? '성공' : 
                                 project.status === 'funding' ? '펀딩 중' : 
                                 project.status === 'failed' ? '실패' : '알 수 없음';
                const statusClass = project.status === 'successful' ? 'status-successful' : 
                                  project.status === 'funding' ? 'status-funding' : 
                                  project.status === 'failed' ? 'status-failed' : 'status-unknown';
                
                return `
                    <div class="project-card">
                        <div class="project-image">
                            ${project.image}
                        </div>
                        <div class="project-header">
                            <div class="project-title">
                                <span>🚀</span>
                                <a href="${project.url}" target="_blank">${project.title}</a>
                            </div>
                            <div class="project-creator">👤 ${project.creator}</div>
                            <div class="project-description">${project.description}</div>
                            
                            ${project.goal > 0 ? `
                            <div class="project-progress">
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: ${progressPercent}%"></div>
                                </div>
                                <div style="font-size: 0.9rem; color: #6c757d;">
                                    ${progressPercent.toFixed(1)}% 달성 (목표: $${project.goal.toLocaleString()})
                                </div>
                            </div>
                            ` : ''}
                            
                            <div class="project-stats">
                                <div class="project-stat">
                                    <div class="stat-value">$${project.pledged.toLocaleString()}</div>
                                    <div class="stat-label">펀딩 금액</div>
                                </div>
                                <div class="project-stat">
                                    <div class="stat-value">${project.backers.toLocaleString()}</div>
                                    <div class="stat-label">후원자</div>
                                </div>
                                <div class="project-stat">
                                    <div class="stat-value">${project.days_left}</div>
                                    <div class="stat-label">남은 일수</div>
                                </div>
                            </div>
                        </div>
                        <div class="project-footer">
                            <div class="project-category">${project.category}</div>
                            <div class="project-status ${statusClass}">${statusText}</div>
                        </div>
                    </div>
                `;
            }).join('');
        }
        
        function updateStats() {
            const totalProjects = filteredData.length;
            const totalPledged = filteredData.reduce((sum, project) => sum + project.pledged, 0);
            const totalBackers = filteredData.reduce((sum, project) => sum + project.backers, 0);
            const successfulProjects = filteredData.filter(project => project.status === 'successful').length;
            const successRate = totalProjects > 0 ? Math.round((successfulProjects / totalProjects) * 100) : 0;
            
            document.getElementById('totalProjects').textContent = totalProjects.toLocaleString();
            document.getElementById('totalPledged').textContent = '$' + totalPledged.toLocaleString();
            document.getElementById('totalBackers').textContent = totalBackers.toLocaleString();
            document.getElementById('successRate').textContent = successRate + '%';
        }
        
        function updateCharts() {
            // 카테고리별 성공률 차트
            const categoryData = {};
            filteredData.forEach(project => {
                if (!categoryData[project.category]) {
                    categoryData[project.category] = { total: 0, successful: 0 };
                }
                categoryData[project.category].total++;
                if (project.status === 'successful') {
                    categoryData[project.category].successful++;
                }
            });
            
            const categoryChart = document.getElementById('categoryChart');
            categoryChart.innerHTML = Object.entries(categoryData).map(([category, data]) => {
                const successRate = data.total > 0 ? Math.round((data.successful / data.total) * 100) : 0;
                return `
                    <div style="margin-bottom: 15px;">
                        <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                            <span style="font-weight: 600;">${category}</span>
                            <span>${successRate}% (${data.successful}/${data.total})</span>
                        </div>
                        <div style="width: 100%; height: 8px; background: #e9ecef; border-radius: 4px; overflow: hidden;">
                            <div style="width: ${successRate}%; height: 100%; background: linear-gradient(90deg, #2E8B57 0%, #20B2AA 100%); border-radius: 4px;"></div>
                        </div>
                    </div>
                `;
            }).join('');
            
            // 펀딩 금액 분포 차트
            const fundingRanges = [
                { min: 0, max: 10000, label: '$0-10K', count: 0 },
                { min: 10000, max: 100000, label: '$10K-100K', count: 0 },
                { min: 100000, max: 1000000, label: '$100K-1M', count: 0 },
                { min: 1000000, max: 10000000, label: '$1M-10M', count: 0 },
                { min: 10000000, max: Infinity, label: '$10M+', count: 0 }
            ];
            
            filteredData.forEach(project => {
                for (let range of fundingRanges) {
                    if (project.pledged >= range.min && project.pledged < range.max) {
                        range.count++;
                        break;
                    }
                }
            });
            
            const fundingChart = document.getElementById('fundingChart');
            fundingChart.innerHTML = fundingRanges.map(range => {
                const percentage = filteredData.length > 0 ? Math.round((range.count / filteredData.length) * 100) : 0;
                return `
                    <div style="margin-bottom: 15px;">
                        <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                            <span style="font-weight: 600;">${range.label}</span>
                            <span>${range.count}개 (${percentage}%)</span>
                        </div>
                        <div style="width: 100%; height: 8px; background: #e9ecef; border-radius: 4px; overflow: hidden;">
                            <div style="width: ${percentage}%; height: 100%; background: linear-gradient(90deg, #2E8B57 0%, #20B2AA 100%); border-radius: 4px;"></div>
                        </div>
                    </div>
                `;
            }).join('');
        }
        
        function filterProjects() {
            const searchTerm = document.getElementById('searchTerm').value.toLowerCase();
            const categoryFilter = document.getElementById('categoryFilter').value;
            const statusFilter = document.getElementById('statusFilter').value;
            
            filteredData = projectsData.filter(project => {
                const matchesSearch = project.title.toLowerCase().includes(searchTerm) ||
                                     project.creator.toLowerCase().includes(searchTerm) ||
                                     project.description.toLowerCase().includes(searchTerm);
                const matchesCategory = !categoryFilter || project.category === categoryFilter;
                const matchesStatus = !statusFilter || project.status === statusFilter;
                
                return matchesSearch && matchesCategory && matchesStatus;
            });
            
            displayProjects();
            updateStats();
            updateCharts();
        }
        
        function clearData() {
            projectsData = [];
            filteredData = [];
            document.getElementById('projectUrl').value = '';
            document.getElementById('searchTerm').value = '';
            document.getElementById('categoryFilter').value = '';
            document.getElementById('statusFilter').value = '';
            document.getElementById('projectList').innerHTML = '<div class="loading">프로젝트 URL을 입력하고 "프로젝트 데이터 가져오기" 버튼을 클릭하세요.</div>';
            document.getElementById('categoryChart').innerHTML = '<div style="text-align: center; color: #6c757d; padding-top: 100px;">데이터를 로드하면 차트가 표시됩니다.</div>';
            document.getElementById('fundingChart').innerHTML = '<div style="text-align: center; color: #6c757d; padding-top: 100px;">데이터를 로드하면 차트가 표시됩니다.</div>';
            updateStats();
        }
        
        function exportToCSV() {
            if (filteredData.length === 0) {
                showError('내보낼 데이터가 없습니다.');
                return;
            }
            
            const headers = ['제목', '크리에이터', '설명', '카테고리', '목표금액', '펀딩금액', '후원자수', '상태', 'URL'];
            const csvContent = [
                headers.join(','),
                ...filteredData.map(project => [
                    `"${project.title}"`,
                    `"${project.creator}"`,
                    `"${project.description}"`,
                    `"${project.category}"`,
                    project.goal,
                    project.pledged,
                    project.backers,
                    `"${project.status}"`,
                    `"${project.url}"`
                ].join(','))
            ].join('\n');
            
            downloadFile(csvContent, 'kickstarter-analysis.csv', 'text/csv');
        }
        
        function exportToJSON() {
            if (filteredData.length === 0) {
                showError('내보낼 데이터가 없습니다.');
                return;
            }
            
            const jsonContent = JSON.stringify(filteredData, null, 2);
            downloadFile(jsonContent, 'kickstarter-analysis.json', 'application/json');
        }
        
        function generateReport() {
            if (filteredData.length === 0) {
                showError('분석할 데이터가 없습니다.');
                return;
            }
            
            const totalProjects = filteredData.length;
            const totalPledged = filteredData.reduce((sum, project) => sum + project.pledged, 0);
            const totalBackers = filteredData.reduce((sum, project) => sum + project.backers, 0);
            const successfulProjects = filteredData.filter(project => project.status === 'successful').length;
            const successRate = Math.round((successfulProjects / totalProjects) * 100);
            
            const report = `
Kickstarter 프로젝트 분석 리포트
================================

📊 기본 통계
- 총 프로젝트 수: ${totalProjects}개
- 총 펀딩 금액: $${totalPledged.toLocaleString()}
- 총 후원자 수: ${totalBackers.toLocaleString()}명
- 성공률: ${successRate}%

📈 카테고리별 분석
${Object.entries(filteredData.reduce((acc, project) => {
    if (!acc[project.category]) acc[project.category] = 0;
    acc[project.category]++;
    return acc;
}, {})).map(([category, count]) => `- ${category}: ${count}개`).join('\n')}

🎯 주요 인사이트
- 평균 펀딩 금액: $${Math.round(totalPledged / totalProjects).toLocaleString()}
- 평균 후원자 수: ${Math.round(totalBackers / totalProjects).toLocaleString()}명
- 성공한 프로젝트: ${successfulProjects}개
- 실패한 프로젝트: ${totalProjects - successfulProjects}개

📅 생성일: ${new Date().toLocaleDateString('ko-KR')}
            `;
            
            downloadFile(report, 'kickstarter-analysis-report.txt', 'text/plain');
        }
        
        function downloadFile(content, filename, contentType) {
            const blob = new Blob([content], { type: contentType });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = filename;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }
        
        function showLoading() {
            const projectList = document.getElementById('projectList');
            projectList.innerHTML = '<div class="loading">데이터를 가져오는 중...</div>';
        }
        
        function showError(message) {
            const projectList = document.getElementById('projectList');
            projectList.innerHTML = `<div class="error">${message}</div>`;
        }
        
        function showSuccess(message) {
            const projectList = document.getElementById('projectList');
            projectList.innerHTML = `<div class="success">${message}</div>`;
        }
        
        // 페이지 로드 시 초기화
        window.onload = function() {
            // 자동으로 샘플 데이터 로드
            setTimeout(() => {
                loadSampleData();
            }, 1000);
        };
    </script>
</body>
</html> 